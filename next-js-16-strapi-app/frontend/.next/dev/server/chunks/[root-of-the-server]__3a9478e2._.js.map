{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Miguel%20Aguila/Documents/Cursos/Programaci%C3%B3n/Next.js%2016%20%2B%20Strapi%205%20Deploy%20%2B%20RdU%20%2B%20Rutas%20%2B%20Cache/next-js-16-strapi-app/frontend/proxy.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\r\n\r\nconst protectedRoutes = ['/dashboard']\r\n\r\nfunction cheskIsProtectedRoute(pathname: string) {\r\n    // .some is used to check if any of the protected routes starts with the pathname\r\n    // (route => pathname.startsWith(route)) is a callback function that checks if the pathname starts with the route\r\n    return protectedRoutes.some(route => pathname.startsWith(route))\r\n    // you can also use 'return protectedRoutes.includes(pathname)' for a single path check\r\n}\r\n\r\nexport async function proxy(request: NextRequest) {\r\n    const currentPath = request.nextUrl.pathname\r\n\r\n    const isProtectedRoute = cheskIsProtectedRoute(currentPath)\r\n\r\n    // NextResponse.next() is used to continue the request and return the response\r\n    // so this is used to continue the request if the route is not protected\r\n    if (!isProtectedRoute) return NextResponse.next()\r\n\r\n    // if the route is protected, we need to verify is the user is authenticated\r\n    try {\r\n\r\n    } catch (error) {\r\n        console.log('Error verifying user authentication:', error)\r\n        // if the user is not authenticated, we need to redirect to the login page\r\n        return NextResponse.redirect(new URL('/signin', request.url))\r\n    }\r\n\r\n\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;IAAC;CAAa;AAEtC,SAAS,sBAAsB,QAAgB;IAC3C,iFAAiF;IACjF,iHAAiH;IACjH,OAAO,gBAAgB,IAAI,CAAC,CAAA,QAAS,SAAS,UAAU,CAAC;AACzD,uFAAuF;AAC3F;AAEO,eAAe,MAAM,OAAoB;IAC5C,MAAM,cAAc,QAAQ,OAAO,CAAC,QAAQ;IAE5C,MAAM,mBAAmB,sBAAsB;IAE/C,8EAA8E;IAC9E,wEAAwE;IACxE,IAAI,CAAC,kBAAkB,OAAO,8IAAY,CAAC,IAAI;IAE/C,4EAA4E;IAC5E,IAAI,CAEJ,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,wCAAwC;QACpD,0EAA0E;QAC1E,OAAO,8IAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,WAAW,QAAQ,GAAG;IAC/D;AAGJ","debugId":null}}]
}