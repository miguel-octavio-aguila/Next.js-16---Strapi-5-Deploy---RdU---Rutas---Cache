{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Miguel%20Aguila/Documents/Cursos/Programaci%C3%B3n/Next.js%2016%20%2B%20Strapi%205%20Deploy%20%2B%20RdU%20%2B%20Rutas%20%2B%20Cache/next-js-16-strapi-app/frontend/validations/auth.ts"],"sourcesContent":["import { z } from \"zod\";\r\n\r\nexport const SigninFormSchema = z.object({\r\n    identifier: z\r\n        .string()\r\n        .min(3, \"Username or email must be at least 3 characters long\"),\r\n    password: z\r\n        .string()\r\n        .min(6, \"Password must be at least 6 characters long\")\r\n        .max(100, \"Password must be less than 100 characters long\"),\r\n});\r\n\r\nexport const SignupFormSchema = z.object({\r\n    username: z\r\n        .string()\r\n        .min(3, \"Username must be at least 3 characters long\")\r\n        .max(20, \"Username must be less than 20 characters long\"),\r\n    email: z\r\n        .email(\"Email must be a valid email address\"),\r\n    password: z\r\n        .string()\r\n        .min(6, \"Password must be at least 6 characters long\")\r\n        .max(100, \"Password must be less than 100 characters long\"),\r\n});\r\n\r\nexport type SigninFormValues = z.infer<typeof SigninFormSchema>;\r\nexport type SignupFormValues = z.infer<typeof SignupFormSchema>;\r\n\r\nexport type FormState = {\r\n    success?: boolean;\r\n    message?: string;\r\n    data?: {\r\n        identifier?: string;\r\n        password?: string;\r\n        username?: string;\r\n        email?: string;    \r\n    };\r\n    // stapiErrors and zodErrors is for education content but in a real project you should name them\r\n    // in a different way to avoid clues about what you are using in the frontend\r\n    strapiErrors?: {\r\n        status: number;\r\n        name: string;\r\n        message: string;\r\n        details?: Record<string, string[]>;\r\n    } | null;\r\n    zodErrors?: {\r\n        identifier?: string[];\r\n        password?: string[];\r\n        username?: string[];\r\n        email?: string[];\r\n    } | null;\r\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,mBAAmB,kLAAC,CAAC,MAAM,CAAC;IACrC,YAAY,kLAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG;IACZ,UAAU,kLAAC,CACN,MAAM,GACN,GAAG,CAAC,GAAG,+CACP,GAAG,CAAC,KAAK;AAClB;AAEO,MAAM,mBAAmB,kLAAC,CAAC,MAAM,CAAC;IACrC,UAAU,kLAAC,CACN,MAAM,GACN,GAAG,CAAC,GAAG,+CACP,GAAG,CAAC,IAAI;IACb,OAAO,kLAAC,CACH,KAAK,CAAC;IACX,UAAU,kLAAC,CACN,MAAM,GACN,GAAG,CAAC,GAAG,+CACP,GAAG,CAAC,KAAK;AAClB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Miguel%20Aguila/Documents/Cursos/Programaci%C3%B3n/Next.js%2016%20%2B%20Strapi%205%20Deploy%20%2B%20RdU%20%2B%20Rutas%20%2B%20Cache/next-js-16-strapi-app/frontend/actions/auth.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { SignupFormSchema, type FormState } from \"@/validations/auth\";\r\nimport { z } from \"zod\";\r\n\r\n// use server is not display in the console because actions are run on the server\r\n// actions are run on the server side\r\nexport async function registerUserAction(prevState: FormState , formData: FormData): Promise<FormState> {\r\n    const fields = {\r\n        username: formData.get(\"username\") as string,\r\n        email: formData.get(\"email\") as string,\r\n        password: formData.get(\"password\") as string,\r\n    }\r\n\r\n    // validations occur in the server side, in the backend\r\n    const validatedFields = SignupFormSchema.safeParse(fields);\r\n\r\n    if (!validatedFields.success) {\r\n        const flattenedErrors = z.flattenError(validatedFields.error)\r\n\r\n        console.log('Validation errors:', flattenedErrors.fieldErrors)\r\n\r\n        return {\r\n            success: false,\r\n            message: \"Validation errors\",\r\n            strapiErrors: null,\r\n            zodErrors: flattenedErrors.fieldErrors,\r\n            data: {\r\n                // prev data of the state\r\n                ...prevState.data,\r\n                // new data of the state\r\n                ...fields,\r\n            }\r\n        }\r\n    }\r\n\r\n    console.log('Validation succesful')\r\n    console.log('Fields:', fields)\r\n\r\n    return {\r\n        success: true,\r\n        message: \"Registration succesful\",\r\n        strapiErrors: null,\r\n        zodErrors: null,\r\n        data: {\r\n            // prev data of the state\r\n            ...prevState.data,\r\n            // new data of the state\r\n            ...fields,\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AAIO,eAAe,mBAAmB,SAAoB,EAAG,QAAkB;IAC9E,MAAM,SAAS;QACX,UAAU,SAAS,GAAG,CAAC;QACvB,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IAC3B;IAEA,uDAAuD;IACvD,MAAM,kBAAkB,uIAAgB,CAAC,SAAS,CAAC;IAEnD,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC1B,MAAM,kBAAkB,kLAAC,CAAC,YAAY,CAAC,gBAAgB,KAAK;QAE5D,QAAQ,GAAG,CAAC,sBAAsB,gBAAgB,WAAW;QAE7D,OAAO;YACH,SAAS;YACT,SAAS;YACT,cAAc;YACd,WAAW,gBAAgB,WAAW;YACtC,MAAM;gBACF,yBAAyB;gBACzB,GAAG,UAAU,IAAI;gBACjB,wBAAwB;gBACxB,GAAG,MAAM;YACb;QACJ;IACJ;IAEA,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC,WAAW;IAEvB,OAAO;QACH,SAAS;QACT,SAAS;QACT,cAAc;QACd,WAAW;QACX,MAAM;YACF,yBAAyB;YACzB,GAAG,UAAU,IAAI;YACjB,wBAAwB;YACxB,GAAG,MAAM;QACb;IACJ;AACJ;;;IA5CsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Miguel%20Aguila/Documents/Cursos/Programaci%C3%B3n/Next.js%2016%20%2B%20Strapi%205%20Deploy%20%2B%20RdU%20%2B%20Rutas%20%2B%20Cache/next-js-16-strapi-app/frontend/.next-internal/server/app/%28auth%29/signup/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {registerUserAction as '60e125803879b8655dbf71b7b2f3213b50cbf0d346'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}}]
}